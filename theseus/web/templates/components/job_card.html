{#
Job card component - Compact table-like design with excellent legibility

Usage:
    {% set job = job %}
    {% include "components/job_card.html" %}

Props:
    job: JobMetadata object
#}
<div class="job-card">
    <!-- Full card clickable link -->
    <a href="/jobs/{{ job.project or 'general' }}/{{ job.group or 'default' }}/{{ job.name }}/{{ job.run_id }}"
       class="job-card-link no-style" aria-label="View job {{ job.name }}"></a>

    <!-- Primary Info Row -->
    <div class="job-card-row">
        <div class="job-card-cell" style="flex: 1; overflow: hidden; border-right: none;">
            <span class="job-card-id">{{ job.job_key }}</span>
            <span class="job-card-name">{{ job.name }}</span>
        </div>
        <div class="job-card-cell" style="padding-right: var(--spacing-sm); width: auto; border-left: 1px solid var(--gray-2); border-right: none;">
            {% if job.status.value == "running" and job.is_stale %}
            <span class="status status-running">⚠ Stale</span>
            {% else %}
            {% set status = job.status %}
            {% include "components/status_badge.html" %}
            {% endif %}
        </div>
    </div>

    <!-- Project/Group Row -->
    <div class="job-card-row">
        <div class="job-card-cell">
            <span class="job-card-label">Project</span>
        </div>
        <div class="job-card-cell flex-1">
            <span class="job-card-value">{{ job.project or "general" }}</span>
        </div>
        <div class="job-card-cell">
            <span class="job-card-label">Group</span>
        </div>
        <div class="job-card-cell flex-1">
            <span class="job-card-value">{{ job.group or "default" }}</span>
        </div>
    </div>

    <!-- Hardware & Duration Row (only if data exists) -->
    {% if job.hardware.total_chips > 0 or job.duration %}
    <div class="job-card-row">
        {% if job.hardware.total_chips > 0 %}
        <div class="job-card-cell">
            <span class="job-card-label">Hardware</span>
        </div>
        <div class="job-card-cell flex-1">
            <span class="job-card-value font-mono">
                <span style="white-space: nowrap;">{{ job.hardware.total_chips }}× {{ job.hardware.chip or "chip" }}</span>
            </span>
        </div>
        {% endif %}
        {% if job.duration %}
        <div class="job-card-cell">
            <span class="job-card-label">Duration</span>
        </div>
        <div class="job-card-cell flex-1">
            <span class="job-card-value">{{ job.duration }}</span>
        </div>
        {% endif %}
    </div>
    {% endif %}
</div>