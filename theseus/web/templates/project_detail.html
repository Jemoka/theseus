{% extends "base.html" %}

{% block title %}{{ project }} - THESEUS{% endblock %}

{% block content %}
<div class="space-y-4">
    <!-- Breadcrumb -->
    <nav class="breadcrumbs">
        <a href="/" class="breadcrumb-item no-style">Dashboard</a>
        <span class="breadcrumb-separator">/</span>
        <span class="breadcrumb-item active">{{ project }}</span>
    </nav>

    <!-- Header -->
    <div class="mb-4">
        <h1 class="text-xl font-semibold uppercase tracking-wide">{{ project }}</h1>
        <p class="text-xs text-gray-400 mt-1">
            {{ jobs | length }} jobs total
        </p>
    </div>

    <!-- Groups -->
    {% if groups %}
    <div class="space-y-5">
        {% for group_name, group_jobs in groups.items() %}
        <div class="mb-6">
            <div class="section-header">
                <h2 class="section-title">{{ group_name }}</h2>
                <a href="/jobs?project={{ project }}&group={{ group_name }}"
                   class="text-2xs font-semibold tracking-wide no-style" style="color: var(--blue);">
                    View all {{ group_jobs | length }} jobs â†’
                </a>
            </div>

            <div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(min(340px, 100%), 1fr)); gap: var(--spacing-md);">
                {% for job in group_jobs[:6] %}
                {% set job = job %}
                {% include "components/job_card.html" %}
                {% endfor %}
            </div>

            {% if group_jobs | length > 6 %}
            <p class="text-2xs text-gray-400 mt-3">
                And {{ group_jobs | length - 6 }} more jobs...
            </p>
            {% endif %}
        </div>
        {% endfor %}
    </div>

    {% else %}
    <div class="empty-state card">
        <p class="empty-state-text">No jobs in this project</p>
    </div>
    {% endif %}

</div>
{% endblock %}